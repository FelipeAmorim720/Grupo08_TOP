<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Pulsatrix</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='../src/css/dashboard.css'>
    <link rel="shortcut icon" href="../src/img/icon.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
    <script src="../src/js/funcoes.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400;1,300&display=swap" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
</head>

<body>

    <nav class="nav">
        <a href="dashboard.html" class="logo">
            <img src="../src/img/icon.png" alt="">
            <span>Pulsatrix</span>
        </a>
        <ul class="menu">
            <li class="active">
                <a href="">
                    <i class='bx bxs-bar-chart-square'></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li id="div_estacoes">
                <a href="estacao.html">
                    <i class='bx bxs-train'></i>
                    <span>Estações</span>
                </a>
            </li>
            <li>
                <a href="maquinas.html">
                    <i onclick = "changeRequired()" class="fa fa-laptop"></i>
                    <span onclick = "changeRequired()">Máquinas</span>
                </a>
            </li>
        </ul>
        <li class="log-out">
            <span id='span_exit' onclick="logoff()">
                <i class='bx bx-log-out nav_icon'></i>
            </span>
        </li>
    </nav>
    <main class="content">
        <header class="header">
            <div class="box-profile">
                <img src="../src/img/perfil.png" alt="">
                <p class="name">
                    <b id="b_tipo_usuario">Usuário</b>
                    <span id="b_usuario">User Name</span>
                </p>
            </div>
        </header>
        <section class="section">
            <div class="container-fluid container-content cards">
                <div class="card-plus-title">
                    <h3 class="title-label">Geral</h3>
                    <div class="row">
                        <div class="col">
                            <div class="card shadow">
                                <div class="desc">
                                    <span id="count_maquinas"></span>
                                    <p>Máquinas</p>
                                </div>
                                <i class='bx bx-desktop'></i>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card shadow">
                                <div class="desc">
                                    <span id="count_stations"> </span>
                                    <p>Estações</p>
                                </div>
                                <i class='bx bx-train'></i>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card shadow">
                                <div class="desc">
                                    <span id="count_alert">0</span>
                                    <p>Em alerta</p>
                                </div>
                                <i class='bx bx-error' style="color:rgb(255, 222, 89);"></i>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card shadow">
                                <div class="desc">
                                    <span id="count_critical">0</span>
                                    <p>Críticoㅤ</p>
                                </div>
                                <i class='bx bx-dizzy' style="color: rgb(255, 22, 22);"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <div class="chart-section">
                <h2>Última semana</h2>
                <br>
                <div class="row">
                    <div class="col">
                        <div class="card-chart shadow">
                            <canvas id="myChart" class="canva-chart"></canvas>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card-chart shadow">
                            <canvas id="chartMaquinas" class="canva-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script src='../src/js/maquinas.js'></script>
    <script src='../src/js/charts.js'></script>
    <script src="../../routes/leituras.js"></script>
    <script src="../src/js/funcoes.js"> </script>
    <script>
        setup()
        getFirstInfo()
        verificar_autenticacao()
        getDadosMachine()
        getHardwareData()
        getPaperData()

    </script>
</body>

</html>